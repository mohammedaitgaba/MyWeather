import React,{useState,useEffect} from 'react'
import { StatusBar } from 'expo-status-bar';
import { StyleSheet, Text, View,Image,Button } from 'react-native';
const Weathershower = ({data}) => {
    const [loding, setloding] = useState(true)
    const [dayInMonth, setDayInMonth] = useState('')
    const [month, setMonth] = useState('')
    const [day, setDay] = useState('')
    const [weather,setWeather]=useState()

    useEffect(() => {
        if (data.city) {
            setloding(false)
            let Today = data.list[0].dt
            // let weather = props.data.list[0]
            getDateFromDataApi(Today)
            setWeather(data.list[0])
        }
    }, [data])
    if (!loding) {
        console.log('in Weathershower',data);
    }
    const getDateFromDataApi = (Today)=>{
        let d = new Date(Today*1000);
        setDayInMonth(d.getDate())
        setMonth(d.toLocaleString('en-us', { month: 'short' })) 
        setDay(d.toLocaleString('en-us', { weekday: 'long' }))
    }
    // const getWeatherInfo=(weather)=>{
    //     console.log(weather);
    // }
    // console.log('in Weathershower',date);
  return (
    <>
    {
        loding?
        <View style={styles.container.loading}>
            <Image style={styles.img.loading} source={require('../assets/images/4f432d9234988a5f33b26e0ba06bc6fe.gif')} />
        </View>
        :
        <View style={styles.container}>
            <Text style={styles.weatherInfo.type}>{data.city.name}</Text>
            <Image   style={styles.img} source={require('../assets/images/rany.png')} />
            <View style={styles.weatherInfo} >
                <Text style={styles.weather}>{weather.temp.day} </Text>
                <Text style={styles.degree}>Â°</Text>
                <Text style={styles.weatherInfo.type}>{weather.weather[0].main} </Text>
                <Text style={styles.moreWeatherInfo.Text}>{day}-{dayInMonth}-{month} </Text>
            </View>
            <View style={styles.moreWeatherInfo} >
                <View style={styles.items}>
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                        width="30" height="30"
                        viewBox="0 0 50 50">
                        <path d="M 15.5 4 C 12.829713 4 10.48004 5.4063162 9.1542969 7.5136719 A 1.0001 1.0001 0 1 0 10.845703 8.5800781 C 11.81996 7.0314338 13.530287 6 15.5 6 C 18.598056 6 21.077993 8.5260383 20.998047 11.646484 C 20.920731 14.650056 18.260652 17 15.199219 17 L 4 17 A 1.0001 1.0001 0 1 0 4 19 L 15.199219 19 C 19.287785 19 22.891363 15.841694 22.998047 11.697266 C 23.106101 7.4797117 19.695944 4 15.5 4 z M 38 8 C 34.617055 8 31.65948 9.8748171 30.125 12.644531 A 1.0005954 1.0005954 0 1 0 31.875 13.615234 C 33.06852 11.460949 35.354945 10 38 10 C 42.021546 10 45.23173 13.350607 44.986328 17.433594 C 44.762543 21.156952 41.467737 24 37.6875 24 L 4 24 A 1.0001 1.0001 0 1 0 4 26 L 37.6875 26 C 42.473263 26 46.692207 22.383329 46.982422 17.554688 C 47.29502 12.353674 43.142454 8 38 8 z M 4 31 A 1.0001 1.0001 0 1 0 4 33 L 25.199219 33 C 28.260652 33 30.920731 35.349944 30.998047 38.353516 C 31.077993 41.473962 28.598056 44 25.5 44 C 23.530287 44 21.81996 42.968566 20.845703 41.419922 A 1.0001 1.0001 0 1 0 19.154297 42.486328 C 20.48004 44.593684 22.829713 46 25.5 46 C 29.695944 46 33.106101 42.520288 32.998047 38.302734 C 32.891363 34.158306 29.287785 31 25.199219 31 L 4 31 z"></path>
                    </svg>
                    <Text style={styles.moreWeatherInfo.number}>{weather.speed}Km/h </Text>
                    <Text style={styles.moreWeatherInfo.Text}>Wind</Text>
                </View>            
                <View style={styles.items}>
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                    width="30" height="25"
                    viewBox="0 0 50 50">
                    <path d="M 15.8125 -0.6875 L 15 0.40625 C 14.535156 1.046875 6.101563 12.703125 2.09375 24 C 0.832031 27.554688 0 31.058594 0 34.1875 C 0 42.898438 7.03125 50 15.6875 50 C 24.398438 50 31.5 42.898438 31.5 34.1875 C 31.5 31.058594 30.691406 27.554688 29.4375 24 C 25.453125 12.703125 17.085938 1.042969 16.625 0.40625 Z M 39 0 L 39 2 L 48 2 L 48 8 L 44 8 L 44 10 L 48 10 L 48 16 L 44 16 L 44 18 L 48 18 L 48 24 L 39 24 L 39 26 L 48 26 L 48 32 L 44 32 L 44 34 L 48 34 L 48 40 L 44 40 L 44 42 L 48 42 L 48 48 L 39 48 L 39 50 L 50 50 L 50 0 Z M 15.8125 2.75 C 17.988281 5.921875 23.992188 15.105469 27.28125 24 L 4.21875 24 C 7.53125 15.105469 13.625 5.921875 15.8125 2.75 Z"></path>
                </svg>                    
                <Text style={styles.moreWeatherInfo.number}>{weather.humidity}%</Text>
                    <Text style={styles.moreWeatherInfo.Text}>humidity</Text>
                </View>
                <View style={styles.items}>
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                    width="30" height="30"
                    viewBox="0 0 50 50">
                    <path d="M 31 1.28125 L 30.1875 2.40625 C 30.1875 2.40625 28.90625 4.171875 27.625 6.4375 C 26.34375 8.703125 25 11.410156 25 13.78125 C 25 17.183594 27.675781 20 31 20 C 34.324219 20 37 17.183594 37 13.78125 C 37 11.410156 35.65625 8.703125 34.375 6.4375 C 33.09375 4.171875 31.8125 2.40625 31.8125 2.40625 Z M 31 4.875 C 31.453125 5.535156 31.8125 6 32.625 7.4375 C 33.84375 9.59375 35 12.269531 35 13.78125 C 35 16.148438 33.195313 18 31 18 C 28.804688 18 27 16.148438 27 13.78125 C 27 12.269531 28.15625 9.59375 29.375 7.4375 C 30.1875 6 30.546875 5.535156 31 4.875 Z M 19.5 11.90625 C 19.457031 11.914063 19.414063 11.925781 19.375 11.9375 C 19.152344 11.984375 18.957031 12.105469 18.8125 12.28125 C 18.800781 12.292969 18.792969 12.300781 18.78125 12.3125 C 17.425781 13.546875 15.304688 14 14 14 C 12.75 14 10.765625 13.558594 9.40625 12.4375 C 9.195313 12.09375 8.804688 11.910156 8.40625 11.96875 C 8.375 11.976563 8.34375 11.988281 8.3125 12 C 8.179688 12.027344 8.050781 12.078125 7.9375 12.15625 C 7.917969 12.164063 7.894531 12.175781 7.875 12.1875 C 7.875 12.199219 7.875 12.207031 7.875 12.21875 C 7.855469 12.226563 7.832031 12.238281 7.8125 12.25 C 7.8125 12.261719 7.8125 12.269531 7.8125 12.28125 C 7.765625 12.320313 7.726563 12.359375 7.6875 12.40625 C 6.332031 13.574219 4.273438 14 3 14 C 2.640625 13.996094 2.304688 14.183594 2.121094 14.496094 C 1.941406 14.808594 1.941406 15.191406 2.121094 15.503906 C 2.304688 15.816406 2.640625 16.003906 3 16 C 4.542969 16 6.703125 15.570313 8.5 14.25 C 10.296875 15.570313 12.457031 16 14 16 C 15.539063 16 17.707031 15.59375 19.5 14.28125 C 20.824219 15.234375 22.425781 15.726563 23.8125 15.90625 C 23.628906 15.246094 23.503906 14.5625 23.5 13.84375 C 22.5 13.644531 21.414063 13.246094 20.53125 12.5625 C 20.375 12.132813 19.953125 11.863281 19.5 11.90625 Z M 41.34375 12 C 41.140625 12.035156 40.957031 12.136719 40.8125 12.28125 C 40.800781 12.292969 40.792969 12.300781 40.78125 12.3125 C 40.769531 12.324219 40.761719 12.332031 40.75 12.34375 C 40.09375 12.929688 39.308594 13.328125 38.5 13.59375 C 38.503906 13.65625 38.5 13.71875 38.5 13.78125 C 38.5 14.457031 38.410156 15.09375 38.25 15.71875 C 39.355469 15.460938 40.496094 14.976563 41.5 14.25 C 43.296875 15.570313 45.457031 16 47 16 C 47.359375 16.003906 47.695313 15.816406 47.878906 15.503906 C 48.058594 15.191406 48.058594 14.808594 47.878906 14.496094 C 47.695313 14.183594 47.359375 13.996094 47 14 C 45.699219 14 43.574219 13.546875 42.21875 12.3125 C 42.207031 12.300781 42.199219 12.292969 42.1875 12.28125 C 42.105469 12.203125 42.011719 12.140625 41.90625 12.09375 C 41.886719 12.085938 41.863281 12.070313 41.84375 12.0625 C 41.683594 12 41.511719 11.976563 41.34375 12 Z M 19.5625 22.90625 C 19.5 22.910156 19.4375 22.921875 19.375 22.9375 C 19.273438 22.964844 19.179688 23.007813 19.09375 23.0625 C 19.074219 23.070313 19.050781 23.082031 19.03125 23.09375 C 18.894531 23.167969 18.777344 23.277344 18.6875 23.40625 C 17.332031 24.574219 15.273438 25 14 25 C 12.738281 25 10.703125 24.582031 9.34375 23.4375 C 9.296875 23.378906 9.246094 23.328125 9.1875 23.28125 C 9.179688 23.261719 9.167969 23.238281 9.15625 23.21875 C 9.089844 23.167969 9.015625 23.125 8.9375 23.09375 C 8.925781 23.082031 8.917969 23.074219 8.90625 23.0625 C 8.886719 23.0625 8.863281 23.0625 8.84375 23.0625 C 8.832031 23.050781 8.824219 23.042969 8.8125 23.03125 C 8.792969 23.03125 8.769531 23.03125 8.75 23.03125 C 8.738281 23.019531 8.730469 23.011719 8.71875 23 C 8.699219 23 8.675781 23 8.65625 23 C 8.644531 23 8.636719 23 8.625 23 C 8.519531 22.984375 8.417969 22.984375 8.3125 23 C 8.179688 23.027344 8.050781 23.078125 7.9375 23.15625 C 7.917969 23.164063 7.894531 23.175781 7.875 23.1875 C 7.875 23.199219 7.875 23.207031 7.875 23.21875 C 7.855469 23.226563 7.832031 23.238281 7.8125 23.25 C 7.8125 23.261719 7.8125 23.269531 7.8125 23.28125 C 7.765625 23.320313 7.726563 23.359375 7.6875 23.40625 C 6.332031 24.574219 4.273438 25 3 25 C 2.640625 24.996094 2.304688 25.183594 2.121094 25.496094 C 1.941406 25.808594 1.941406 26.191406 2.121094 26.503906 C 2.304688 26.816406 2.640625 27.003906 3 27 C 4.542969 27 6.703125 26.570313 8.5 25.25 C 10.296875 26.570313 12.457031 27 14 27 C 15.542969 27 17.703125 26.570313 19.5 25.25 C 21.296875 26.570313 23.457031 27 25 27 C 26.542969 27 28.703125 26.570313 30.5 25.25 C 32.296875 26.570313 34.457031 27 36 27 C 37.542969 27 39.703125 26.570313 41.5 25.25 C 43.296875 26.570313 45.457031 27 47 27 C 47.359375 27.003906 47.695313 26.816406 47.878906 26.503906 C 48.058594 26.191406 48.058594 25.808594 47.878906 25.496094 C 47.695313 25.183594 47.359375 24.996094 47 25 C 45.789063 25 43.851563 24.613281 42.5 23.5625 C 42.328125 23.109375 41.851563 22.84375 41.375 22.9375 C 41.25 22.96875 41.136719 23.019531 41.03125 23.09375 C 40.894531 23.167969 40.777344 23.277344 40.6875 23.40625 C 39.332031 24.574219 37.273438 25 36 25 C 34.789063 25 32.851563 24.613281 31.5 23.5625 C 31.390625 23.296875 31.175781 23.09375 30.910156 22.996094 C 30.640625 22.902344 30.34375 22.925781 30.09375 23.0625 C 30.082031 23.074219 30.074219 23.082031 30.0625 23.09375 C 30.050781 23.09375 30.042969 23.09375 30.03125 23.09375 C 29.9375 23.152344 29.851563 23.226563 29.78125 23.3125 C 29.769531 23.324219 29.761719 23.332031 29.75 23.34375 C 29.726563 23.363281 29.707031 23.382813 29.6875 23.40625 C 28.332031 24.574219 26.273438 25 25 25 C 23.789063 25 21.851563 24.613281 20.5 23.5625 C 20.5 23.550781 20.5 23.542969 20.5 23.53125 C 20.347656 23.148438 19.972656 22.902344 19.5625 22.90625 Z M 19 29.28125 L 18.1875 30.40625 C 18.1875 30.40625 16.90625 32.171875 15.625 34.4375 C 14.34375 36.703125 13 39.410156 13 41.78125 C 13 45.183594 15.675781 48 19 48 C 22.324219 48 25 45.183594 25 41.78125 C 25 39.410156 23.65625 36.703125 22.375 34.4375 C 21.09375 32.171875 19.8125 30.40625 19.8125 30.40625 Z M 19 32.875 C 19.453125 33.535156 19.8125 34 20.625 35.4375 C 21.84375 37.59375 23 40.269531 23 41.78125 C 23 44.148438 21.195313 46 19 46 C 16.804688 46 15 44.148438 15 41.78125 C 15 40.269531 16.15625 37.59375 17.375 35.4375 C 18.1875 34 18.546875 33.535156 19 32.875 Z M 41.5625 33.90625 C 41.5 33.910156 41.4375 33.921875 41.375 33.9375 C 41.273438 33.964844 41.179688 34.007813 41.09375 34.0625 C 41.074219 34.070313 41.050781 34.082031 41.03125 34.09375 C 40.894531 34.167969 40.777344 34.277344 40.6875 34.40625 C 39.332031 35.574219 37.273438 36 36 36 C 34.699219 36 32.574219 35.546875 31.21875 34.3125 C 31.207031 34.300781 31.199219 34.292969 31.1875 34.28125 C 31.140625 34.234375 31.085938 34.191406 31.03125 34.15625 C 30.992188 34.132813 30.949219 34.113281 30.90625 34.09375 C 30.886719 34.085938 30.863281 34.070313 30.84375 34.0625 C 30.753906 34.027344 30.660156 34.007813 30.5625 34 C 30.53125 34 30.5 34 30.46875 34 C 30.425781 33.996094 30.386719 33.996094 30.34375 34 C 30.3125 34.007813 30.28125 34.019531 30.25 34.03125 C 30.21875 34.039063 30.1875 34.050781 30.15625 34.0625 C 30.027344 34.109375 29.910156 34.183594 29.8125 34.28125 C 29.800781 34.292969 29.792969 34.300781 29.78125 34.3125 C 29.746094 34.339844 29.714844 34.371094 29.6875 34.40625 C 28.3125 35.59375 26.320313 36 25 36 C 24.960938 36 24.914063 36 24.875 36 C 25.179688 36.652344 25.449219 37.304688 25.6875 37.96875 C 27.1875 37.851563 29.039063 37.367188 30.53125 36.28125 C 32.320313 37.582031 34.464844 38 36 38 C 37.542969 38 39.703125 37.570313 41.5 36.25 C 43.296875 37.570313 45.457031 38 47 38 C 47.359375 38.003906 47.695313 37.816406 47.878906 37.503906 C 48.058594 37.191406 48.058594 36.808594 47.878906 36.496094 C 47.695313 36.183594 47.359375 35.996094 47 36 C 45.789063 36 43.851563 35.613281 42.5 34.5625 C 42.5 34.550781 42.5 34.542969 42.5 34.53125 C 42.347656 34.148438 41.972656 33.902344 41.5625 33.90625 Z M 8.40625 33.96875 C 8.375 33.976563 8.34375 33.988281 8.3125 34 C 8.121094 34.042969 7.949219 34.140625 7.8125 34.28125 C 7.800781 34.292969 7.792969 34.300781 7.78125 34.3125 C 6.425781 35.546875 4.304688 36 3 36 C 2.640625 35.996094 2.304688 36.183594 2.121094 36.496094 C 1.941406 36.808594 1.941406 37.191406 2.121094 37.503906 C 2.304688 37.816406 2.640625 38.003906 3 38 C 4.539063 38 6.707031 37.59375 8.5 36.28125 C 9.679688 37.132813 11.074219 37.621094 12.34375 37.84375 C 12.582031 37.203125 12.859375 36.5625 13.15625 35.9375 C 11.953125 35.796875 10.503906 35.347656 9.40625 34.4375 C 9.195313 34.09375 8.804688 33.910156 8.40625 33.96875 Z"></path>
                </svg>
                    <Text style={styles.moreWeatherInfo.number}>{weather.pop}</Text>
                    <Text style={styles.moreWeatherInfo.Text}>Chance of rain</Text>
                </View>

            </View>
        </View>
    }

    </>
  )
}
const styles = StyleSheet.create({
    container:{
        display:'flex',
        flexDirection:'column',
        alignItems:'center',
        justifyContent: 'space-around',
        paddingBottom:'20px',
        color:'white',
        backgroundImage: `linear-gradient(to bottom, rgba(0, 224, 255, 1), rgba(0, 133, 255, 1))`,
        height : '70vh',
        width:'100%',
        borderBottomLeftRadius:"45px",
        borderBottomRightRadius:"45px",
        boxShadow: 'rgba(7, 63, 141, 0.9) 0px 25px 20px -10px',
        loading:{
            display:'flex',
            flexDirection:'column',
            alignItems:'center',
            justifyContent: 'center',
            width:"100%",
            height:"100vh"
        }
    },
    weather:{
        color:'white',
        fontSize:'132px',
        fontWeight:'700'
    },
    weatherInfo:{
        position:'relative',
        display:'flex',
        flexDirection:'column',
        alignItems:'center',
        justifyContent: 'center',
        type:{
            color:'white',
            fontSize:'28px'
        }
    },
    degree:{
        position:'absolute',
        fontSize:'62px',
        right:'0',
        top:'32px',
        color:'#ffffffa3'
    },
    moreWeatherInfo:{
        width:'100%',
        display:'flex',
        flexDirection:'row',
        alignItems:'center',
        justifyContent:'space-around',
        number:{
            color:'white',
            fontWeight:'600',
            fontSize:'14px'
        },
        Text:{
            color:'#ffffffa3'
        },
        img:{
            width:'25px',
            height:'25px'
        }
    },
    items:{
        display:'flex',
        alignItems:'center',
        justifyContent:'center',
    },
    img:{
        width:'200px',
        height:'200px',
        loading:{
            width:'300px',
            height:'300px',
        }
    },
    TotalDays:{
        color:'gray',
    }
})
export default Weathershower